{% extends "base.html" %}

{% block title %}Upload Files{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Upload Configuration File</h2>
    <form method="POST" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="file1" class="form-label">Group Config XML</label>
            <input type="file" class="form-control" id="file1" name="file1" accept=".xml">
        </div>
        <div class="mb-3">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="useIpList" name="useIpList" {% if use_ip_list
                    %}checked{% endif %}>
                <label class="form-check-label" for="useIpList">
                    Use IP Address List for Pre-selection
                </label>
            </div>
            <div class="mt-2">
                <label for="ipList" class="form-label">IP Addresses (one per line)</label>
                <textarea class="form-control" id="ipList" name="ipList" rows="5" {% if not use_ip_list %}disabled{%
                    endif %}>{{ ip_list_text }}</textarea>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Upload File</button>
    </form>
</div>

<script>
    document.getElementById('useIpList').addEventListener('change', function () {
        document.getElementById('ipList').disabled = !this.checked;
    });
</script>
{% endblock %}